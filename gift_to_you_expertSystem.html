<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <style type="text/css">
        /*p,input,button{
            text-align: center;
        }*/
        div{
            text-align: center;
        }
    </style>
</head>
<body bgcolor="#E6E6FA">

<script language="JavaScript">
   String.prototype.times = function(n) {
      return Array.prototype.join.call({length:n+1}, this);
    };
    //https://summmeer.github.io/gift_to_you_expertSystem
    function getResult(){
         var select_sex = document.getElementById("select1").value;
         var select_relation = document.getElementById("select2").value;
         var select_character = document.getElementById("select3").value;
         
         var RuleNum = new Array(['audio', 0.3, 0.6, 0.6, 0.6, 0.1, 0.7, 0.6, 0.3, 0.4, 0.6],
                ['cat', 0.1, 0.9, 0.3, 0.5, 0.1, 0.5, 0.9, 0.4, 0.2, 0],
                ['hat', 0, 0.7, 0.5, 0.5, 0.5, 0.3, 0.5, 0.5, 0.4, 0],
                ['massor', 0.5, 0.5, 0.2, 0.2, 1.0, 0.2, 0.1, 0.1, 0.6, 0.4],
                ['necklace', 0.2, 0.6, 0.7, 0.5, 0, 0.5, 0.2, 0.7, 0.6, 0],
                ['notebook', 0.5, 0.5, 0.3, 0.7, 0.1, 0.8, 0.5, 0.9, 0.8, 0],
                ['perfume', 0.3, 0.6, 0.9, 0.7, 0, 0.45, 0.1, 0.4, 0.5, 0],
                ['pillow', 0.5, 0.5, 0.3, 0.5, 0.8, 0.4, 0.2, 0.1, 0.9, 0.2],
                ['tea', 0.5, 0.5, 0.2, 0.4, 0.9, 0.3, 0.1, 0.3, 0.8, 0],
                ['watch', 0.9, 0, 0.8, 0.7, 0.3, 0.6, 0.1, 0.5, 0.8, 0.4],
                ['wet', 0.5, 0.5, 0.6, 0.6, 0.6, 0.6, 0.8, 0.6, 0.9, 0.3],
                ['clock', 0.6, 0.5, 0.4, 0.5, 0.1, 0.6, 0.2, 0.2, 0.8, 0.6])
         var result = new Array(0,0,0,0,0,0,0,0,0,0,0,0)
         var maxI = 0
         var maxResult = 0
         for (var i = RuleNum.length - 1; i >= 0; i--) {
             temp = RuleNum[i][select_sex] + RuleNum[i][select_character] - RuleNum[i][select_sex] * RuleNum[i][select_character]
             result[i] = RuleNum[i][select_relation] + temp - RuleNum[i][select_relation] * temp
             if (result[i]>maxResult) {maxResult=result[i],maxI=i}
         }
        picname = RuleNum[maxI][0]
        alert("推荐给你：" + picname)

        var canvas = document.getElementById('myCanvas'),
        context = canvas.getContext('2d');

        make_base();
    }

    function make_base()
        {
            base_image = new Image();
            base_image.src = '/fig/cat.png';
            base_image.onload = function(){
            context.drawImage(base_image, 100, 100);
            }
        }
</script>

<div align="center">
<h1 style="color:#00008B">
专家系统
</h1>
<h1 style="color:#00008B">
Gift to You
</h1>
<p style="color:#00008B">送礼对象</p>
<select id="select1">
  <option value ="1" style="text-align:center">男</option>
  <option value ="2" style="text-align:center">女</option>
</select>
<select id="select2">
  <option value ="3" style="text-align:center">对象</option>
  <option value ="4" style="text-align:center">好朋友</option>
  <option value="5" style="text-align:center">长辈</option>
  <option value="6" style="text-align:center">同事/同学</option>
</select>
<p style="color:#00008B">礼物属性</p>
<select id="select3">
  <option value ="7" style="text-align:center">萌萌哒</option>
  <option value ="8" style="text-align:center">文艺小清新</option>
  <option value="9" style="text-align:center">实用</option>
  <option value="10" style="text-align:center">科技</option>
</select>
<p style="color:#00008B">↓</p>
<div><button type="button"
onclick=getResult() > 
寻找礼物</button>
</div>
<canvas id="myCanvas" width="500" height="300" style="border:20px solid #E6E6FA;background:#E6E6FA;">
Your browser does not support the HTML5 canvas tag.
</canvas>
</div>

</body>
</html> 